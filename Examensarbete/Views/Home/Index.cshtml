@using Microsoft.AspNetCore.Mvc.Localization
@model Examensarbete.ViewModels.CourseViewModel
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = Localizer["Home Page"];
}

<h1>@ViewData["MyTitle"]</h1>

<h1>@Model.Name</h1>

<div id="wrapper" style="overflow: hidden">
    <div id="firstDiv">
        <div class="panel-group" id="accordion">
            @foreach (var topic in Model.Content)
            {
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            <a href="#@topic.Id" data-toggle="collapse" data-parent="#accordion" style="font-weight: bold">@topic.Id. @topic.Name</a>
                        </h3>
                    </div>
                    <div id="@topic.Id" class="panel-collapse collapse">
                        <div class="panel-body">
                            <h5>
                                @foreach(var fact in topic.Facts)
                                {
                                    <a onclick="viewData(@fact.Id)">@fact.Header</a>
                                }
                            </h5>
                            <h5>
                                <a>Exercises</a>
                            </h5>
                            <h5>
                                <a>Exams</a>
                            </h5>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
    <div id="currentData" style="float: left; background-color: indianred">
        
    </div>
</div>

<script>
    function viewData(id) {
        var element = document.getElementById("currentData");
        element.innerHTML = "hejhej";

        var id = id;
        var sendData = { id: id }

        $.ajax({
            type: "POST",
            url: "@Url.Action("ShowFact", "Home")",
            data: sendData,
            success: function (data) {
                element.innerHTML = data
            },
            traditional: true
        });
    }
</script>